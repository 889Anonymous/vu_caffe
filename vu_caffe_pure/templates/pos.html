{% extends "base.html" %}

{% block content %}
<div class="grid lg:grid-cols-3 gap-6">
    <!-- Menu Grid -->
    <div class="lg:col-span-2">
        <div class="flex items-center justify-between mb-6">
            <h2 class="text-2xl font-bold text-gray-800">Menu S·∫£n Ph·∫©m</h2>
        </div>
        <div class="grid grid-cols-2 md:grid-cols-3 gap-4" id="menu">
            <!-- Items will be populated here via HTMX or Jinja -->
            {% for item in items %}
            <div class="bg-white rounded-xl shadow-sm border p-3 hover:border-orange-500 transition-all cursor-pointer group"
                 hx-post="/cart/add" hx-target="#cart-items" hx-vals='{"item_id": {{item.id}}}'>
                <div class="aspect-square rounded-lg overflow-hidden mb-3 bg-gray-100">
                    <img src="{{ item.image_url or 'https://via.placeholder.com/200' }}" alt="{{ item.name }}" class="w-full h-full object-cover group-hover:scale-105 transition-transform">
                </div>
                <h3 class="font-semibold text-gray-800 leading-tight mb-1">{{ item.name }}</h3>
                <div class="text-orange-600 font-bold">{{ format_vnd(item.price) }}</div>
            </div>
            {% endfor %}
        </div>
    </div>

    <!-- Cart Sidebar -->
    <div class="lg:col-span-1">
        <div class="bg-white rounded-2xl shadow-xl border sticky top-24 overflow-hidden flex flex-col h-[calc(100vh-8rem)]">
            <div class="p-4 border-b bg-gray-50">
                <h2 class="text-xl font-bold flex items-center">
                    üõí Gi·ªè h√†ng
                </h2>
            </div>
            
            <div id="cart-items" class="flex-1 overflow-y-auto p-4 space-y-4">
                <p class="text-gray-400 text-center py-10 italic">Ch∆∞a c√≥ m√≥n n√†o</p>
            </div>

            <div class="p-4 border-t bg-gray-50">
                <div class="flex justify-between items-center mb-4">
                    <span class="text-gray-600">T·ªïng c·ªông:</span>
                    <span id="cart-total" class="text-2xl font-bold text-orange-600">0 ‚Ç´</span>
                </div>
                <button hx-post="/orders" hx-target="body" hx-confirm="X√°c nh·∫≠n thanh to√°n?"
                        class="w-full bg-orange-600 text-white font-bold py-4 rounded-xl shadow-lg hover:bg-orange-700 active:scale-[0.98] transition-all">
                    THANH TO√ÅN
                </button>
            </div>
        </div>
    </div>
</div>
{% endblock %}
